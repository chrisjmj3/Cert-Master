<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate generator</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <header>
        <h1>Certificate Generator</h1>
    </header>
    <br><br>

    <form>
        <canvas id="canvas" height="350px" width="500px" style="border:1px solid #000000"></canvas>

        <div id="name">
            <label for="name"> Name:</label>
            <input type="text" id="nameInput" name="name" placeholder="Enter name">
        </div>

        <div id="field">
            <label for="field">Field:</label>
            <input type="text" id="fieldInput" name="field" placeholder="Enter the event">
        </div>

        <div id="date">
            <label for="date">Select date:</label>
            <input type="date" id="date1" name="date">
        </div>

        <div id="prize">
            <label for="prize">Select Prize</label>
        </div><br><br>

        <input type="radio" id="option1" name="options" value="First">
        <label for="option1">First</label>

        <input type="radio" id="option2" name="options" value="Second">
        <label for="option2">Second</label>

        <input type="radio" id="option3" name="options" value="Third">
        <label for="option3">Third</label>

    </form>

    <div class="button-container">
        <button class="b4" onclick="drawImage()">CREATE CERTIFICATE</button>
        <button href="#" id="download-btn">DOWNLOAD</button>
    </div>

    <script>
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        var image = new Image();
        var downloadBtn = document.getElementById('download-btn')
        image.crossOrigin = "anonymous";
        image.src = 'Certi1.png';
        image.onload = function() {
            drawImage();
        };

        function drawImage() {
            console.log(document.getElementById("date1"));
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(image, 0, 0, canvas.width, canvas.height);
            ctx.font = '40px monotype corsiva';
            ctx.fillStyle = '#29e';
            ctx.fillText(document.getElementById('nameInput').value, 200, 180);
            ctx.font = '18px monotype corsiva';
            ctx.fillStyle = '#29e';
            ctx.fillText(document.getElementById('fieldInput').value, 245, 210);
            ctx.font = '15px monotype corsiva';
            ctx.fillStyle = '#29e';
            var dateComponents = document.getElementById('date1').value;
            dateComponents = dateComponents.split("-").reverse().join("-");
            ctx.fillText(dateComponents, 365, 210);
            var selectedOption = document.querySelector('input[name="options"]:checked');
            if (selectedOption) {
                ctx.font = '18px monotype corsiva';
                ctx.fillStyle = '#29e';
                ctx.fillText(selectedOption.value, 148, 210);
            }
        }
        downloadBtn.addEventListener('click', function() {
            downloadBtn.href = canvas.toDataURL('image/jpg')
            downloadBtn.download = 'Certificate - ' + nameInput.value
        })
    </script>
</body>

</html>